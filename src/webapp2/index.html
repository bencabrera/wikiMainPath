<html>
	<head>

		<title>Angular QuickStart</title>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css">
		<link rel="stylesheet" href="css/styles.css">

		<script src="node_modules/jquery/dist/jquery.js"></script>
		<script src="node_modules/bootstrap/dist/js/bootstrap.js"></script>
		<script src="node_modules/d3/build/d3.js"></script>
	
	</head>
	
	<body>
		<nav class="navbar navbar-default navbar-fixed-top">
			<div class="container-fluid">
				<div class="row search-bar-row">
					<div class="col-md-12">
						<div class="input-group input-group-lg search-field">
							<input type="search" class="form-control search-input" placeholder="Enter keywords to search for category" (keyup)="onSearch()" (blur)="onBlur()" (focus)="onSearch()" [(ngModel)]="searchQuery">
							<span class="input-group-btn">
								<button class="btn btn-default" type="button" (click)="onSearch()">
									<span class="glyphicon glyphicon-search"></span>
								</button>
							</span>
						</div>
						<!-- <ul class="dropdown-menu search-result-box"> -->
							<!-- <li class="dropdown-header">Matching categories for your search query</li> -->
							<!-- <li><a href="#" (mousedown)="onSelectCategory(res)">Hallo</a></li> -->
						<!-- </ul> -->
					</div>
				</div>
			</div>
		</nav>
		
		<div class="container-fluid">
			<div class="row">
				<div class="info-sidebar">
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">Category information</h3>
						</div>
						<div class="panel-body">
							Panel content
						</div>
					</div>
				</div>
				<div class="main-content">
					<svg id="graph-visualization">

					</svg>		
				</div>
			</div>
		</div>

		<script type="text/javascript" charset="utf-8">

//			var dummyData = [
//                  [ 5,     20 ],
//                  [ 480,   90 ],
//                  [ 250,   50 ],
//                  [ 100,   33 ],
//                  [ 330,   95 ],
//                  [ 410,   12 ],
//                  [ 475,   44 ],
//                  [ 25,    67 ],
//                  [ 85,    21 ],
//                  [ 220,   88 ]
//              ];

			var dummyData = [
				[ new Date(1989, 1, 3, 0, 0, 0, 0), 90 ],
				[ new Date(1990, 1, 3, 0, 0, 0, 0), 50 ],
				[ new Date(1991, 1, 3, 0, 0, 0, 0), 33 ],
				[ new Date(1994, 1, 3, 0, 0, 0, 0), 95 ],
				[ new Date(1996, 1, 3, 0, 0, 0, 0), 12 ],
				[ new Date(1997, 1, 3, 0, 0, 0, 0), 44 ],
				[ new Date(2001, 1, 3, 0, 0, 0, 0), 67 ],
				[ new Date(2006, 1, 3, 0, 0, 0, 0), 21 ],
				[ new Date(2009, 1, 3, 0, 0, 0, 0), 88 ]
			];

			var svg = d3.select("#graph-visualization");

			var svgHeight = parseInt(svg.style("height").replace("px", ""));
			var svgWidth = parseInt(svg.style("width").replace("px", ""));
			var padding = 30;

			var minTime = new Date(1970, 1, 1, 0, 0, 0, 0); 
			var maxTime = new Date(2010, 1, 1, 0, 0, 0, 0);
			
			var timeScale = d3.scaleTime()
				.domain([minTime, maxTime])
				.range([0, svgWidth - 2*padding]);

			var yScale = d3.scaleLinear()
				.domain([0, 100])
				.range([0, svgHeight - 2*padding]);

			var xAxis = d3.axisBottom()
				.scale(timeScale);

			svg.selectAll("circle")
				.data(dummyData)
				.enter()
				.append("circle")
				.attr("cx", function(d) { return timeScale(d[0]) + padding; })
				.attr("cy", function(d) { return yScale(d[1]) + padding; })
				.attr("r", function(d) { return 10; });
			svg.append("g")
				.call(xAxis)
				.attr("transform", "translate(" + padding + "," + (svgHeight-padding) + ")");
		</script>

	</body>

</html>
